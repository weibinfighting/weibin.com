---
title: 使用blogdown搭建博客
author: Weibin
date: '2018-03-17'
slug: set-your-blog-by-blogdown
categories:
  - R
tags: []
---

>本文主要借鉴自谢益辉的博客及统计之都的[这篇文章](https://cosx.org/2018/01/build-blog-with-blogdown-hugo-netlify-github/)。
>感谢谢益辉的blogdown包，它确实解放了生产力。

#为什么要建博客

大概在大三下学期的时候，我就已经萌生了建立个人网站的[想法](http://www.weibinqu.xyz/cn/2016/04/long-time-no-write/)，那个时候博客早已衰落，主流的博客平台鱼龙混杂，良莠不齐。于是我找到了一个比较偏的平台[farbox](https://www.farbox.com/)。

只可惜没多久因为大四的各种事情，博客没能坚持更新。
然而这不是最令人伤心的，最令人难过的是，等我回过神来，想要重新再写博客的时候，farbox平台却[宣告放弃](https://blog.farbox.com/post/2017)。于是令我痛心的不仅是没能赚回博客平台的[入伙费](https://www.farbox.com/service/pricing#)，连发布博客的平台又要从新找了。
不得不说这是中文博客的衰落时代，越来越多的人将注意力放在了移动平台上。但是博客依然是汇总思想，交流学习的好工具。博客不应该被埋没。

#为什么要用blogdown建博客

2017年，谢益辉制作的[blogdown包](https://bookdown.org/yihui/blogdown/)极大的简化了博客的建立过程，可以说使得建立一个个人博客所需要的工作量由原来的50变成了10，而这无疑是广大博客爱好者的福音，因为我们终于不用再费尽心机去理解关于网站搭建的种种步骤，而只需简简单单的几步就可以建立一个有趣好看的个人网站；而另一方面，借助于Markdown语法的强大，我们也不需要再关心格式排版的问题了，终于可以专注于文字，专注于思考了，岂不快哉。

#如何用blogdown建立博客

其实关于如何建立博客，在统计之都的[这篇文章](https://cosx.org/2018/01/build-blog-with-blogdown-hugo-netlify-github/)中已经解释的很详细了，但是依然有些东西没能讲的很清楚，在我设置的时候就花了相当的时间来研究各个组成之间的关系。所以为了方便更多的初学者可以顺利搭建个人网站，我就画蛇添足地再加一些对于建立博客的个人理解。

建立博客要用到的工具是[Git](https://git-scm.com/)、[Github](https://github.com)、[R](https://www.r-project.org/)、[RStudio](https://www.rstudio.com/)以及[Netlify](https://app.netlify.com/)。虽然看起来很多，但是操作难度真的不大。

##预备知识

在部署个人网站之前，我们还是应该知道上面这些工具的关系及作用的。


首先就是Git与Github，这两者之间的关系更像是R与Rstudio之间的关系一样，Git又名[分布式版本控制系统](https://baike.baidu.com/item/Git/12647237)，而Github则是一个[开源及私有项目的托管平台](https://baike.baidu.com/item/github)，想要使用Git系统，我们就必须首先安装[Git](https://git-scm.com/)，而我们为了将我们的文件展示出来，就需要一个能够面向所有人的开放平台，而[Github](https://github.com)就是不二之选，而注册GitHub也非常的简单方便，这里就不赘述。


有了展示平台后我们就需要撰写博客的工具，这时RStudio就展示出其强大的能力。作为分析数据的专业语言R凭借其开源和广大的论坛为各种神奇有趣的思想提供了无限可能，而RStudio更是将其发扬光大，利用优秀的可视化与简便的操作模式使得RStudio作为一款R语言的IDE（集成开发环境），扩展出了各种各样的能力（包括但不限于制作PPT，画图，写个人博客等等）。而谢益辉开发的[blogdown](https://bookdown.org/yihui/blogdown/)就将是我们今天的主角，我们利用这个扩展包，使用RStudio撰写我们的博客，然后通过Git上传到我们所对应的Github库，从而就可以解决让所有人都看到这个问题。


而仅仅这样还是不够，这样我们上传的文件仅仅是一个包含各种文件的源代码，并不像我们平常看到的那些干净整洁有趣的[个人博客](https://yihui.name/)。如果说我们上传到Github上的文件是源代码的话，那么我们显然需要一个编译器将这些源代码编译成可以运行的语言。介于blogdown是以Hugo为基础编写的包，我们就需要利用Hugo语言对其进行“编译”，这时有人会说可是我不会Hugo啊，没关系，我也不会，但是有一个地方可以帮助我们，那就是[Netlify](https://app.netlify.com/)。通过Netlify平台，我们可以将我们上传到Github上的源文件编译成我们平常看到的样子，于是一起就都变得美好起来，世界终于清静了，而完成这一切所需要的时间一个小时就足够了（当然总是会有各种各样的意外，但相信我确实不会花费很久），而当一切部署完毕之后，以后就可以一劳永逸地写写有趣地博客而不用再操心如何将之呈现在所有人面前了。

##开始布置

其实一切按照统计之都的文章来就可以顺利地搭建博客了，不过我这里还是再多说一些，为了让大家少点几个链接。


第一步就是创建一个新的版本库，名字可以随便命名（对，你没有看错，再也没有github.io这种奇怪的命名方式了）。这样后你就再一次在互联网世界拥有了一个属于你的但是开放的仓库。

![创建新的版本库](https://i.loli.net/2018/04/02/5ac1f4751b8f1.png)
![起个名字](https://i.loli.net/2018/04/02/5ac1f569433fc.png)


接着我们就需要利用RStudio来为我们本地电脑与这个网上的库搭线，方法就是Git。
首先我们需要将Git与RStudio进行关联，方法是打开RStudio，选择全局设置>Git/SVN，然后选择Git的运行目录

![链接Git](https://i.loli.net/2018/04/02/5ac1f8c628268.jpg)

之后就是愉快地创建一个新的Git项目了，在RStudio新建项目中选择版本控制>Git，选项里的网址就是你在Github中创建的库的网址，本地的项目名字一定要是与Github的库的名字相同，至于地址就随便选好了。

![选择版本控制](https://i.loli.net/2018/04/02/5ac1fca457049.jpg)
![选择Git](https://i.loli.net/2018/04/02/5ac1fcc01549f.jpg)
![与Github相连](https://i.loli.net/2018/04/02/5ac1fcdec835e.jpg)

这时其实我们已经与Github上的库相连了，但其实我们在上传建站的文件时，有些文件是完全没必要也上传到Github库里去的。
这时我们就要让RStudio忽略这些文件的上传，具体操作就是打开项目目录下的文件.gitignore（用RStudio就可以直接打开），将需要忽略的文件直接复制到文件里，这样就不会在向Github传送时将这些文件一并上传了。下面这段代码直接复制自谢益辉：


![打开.gitignore](https://i.loli.net/2018/04/02/5ac21abd974e3.jpg)

```{r}
.Rproj.user
.Rhistory
.RData
.Ruserdata
public
static/figures
blogdown
```

##撰写博客

接下来我们就可以使用blogdown了，首先还是安装blogdown包，顺便安装一下谢老大的“写轮眼”以支持更多种的展示方式，在R中输入如下命令：

```{r}
install.packages('blogdown')
install.packages("xaringan")
```

在刚刚建立的项目里再建一个项目用于写博客文件，这次选择第一个搭建新项目。（当然你也可以选择不用创建两个项目，不过这就需要一些其他的操作，就不符合本文浅显易懂的原则了，所以在此不多叙述，如果感兴趣请放G一搜）

![选择第一个](https://i.loli.net/2018/04/02/5ac1fca457049.jpg)

然后选择利用blogdown搭建网站，即粉色的那个（好有少女心啊）。如果是第一次的话，全部默认就可以了，毕竟当前的首要任务是搭起一个个人网站，之后可以根据谢益辉的[blogdown](https://bookdown.org/yihui/blogdown/)指南进行深度定制化修改。不过必须说一下，制作一个新的好看的皮肤可不是一个简单的活，如果想省事的话，Hugo大量的[皮肤](https://themes.gohugo.io/)都可以自由选择。

![选择最后一个](https://i.loli.net/2018/04/02/5ac215e90c315.jpg)
![全部默认就好](https://i.loli.net/2018/04/02/5ac2163c70ef8.jpg)

之后只需简单配置一下配置文件就可以愉快地写博客了。
利用工具栏的“Addins”创建一个文章“New Post”，关于“Post”的填写内容只有一个需要注意的事项，那就是。因为R对中文支持极不友好的缘故，文章标题部分强烈建议使用英文或数字的方式填写：

![New Post](https://i.loli.net/2018/04/02/5ac21c2d9869e.jpg)
![注意标题](https://i.loli.net/2018/04/02/5ac21c42db4d8.jpg)

在新建的文件中，我们使用Markdown语法就可以顺利完成博客的文本编写。编写完成后，还是“Addins”菜单，选择“Sever Site”就可以预览我们写的博客了。(在这里需要注意浏览完后不要点击浏览窗口左上角的红叉关闭浏览窗口，不然下次就会打不开了，不要问我是怎么知道的)

在完成了博客编写后，我们就可以把这些全部通过Git上传到Github上去，在右上角的窗口上找到Git，选择“Commit”，在弹出的窗口的右边空白处填写这次提交的简要信息，然后提交“Commit”，完成后再选择“Push”将其“Push”到Github上去。

![提交与推送](https://i.loli.net/2018/04/02/5ac21f5d37bc1.jpg)

这样我们的博客的大部分任务就已经完成了，接下来只需利用[Netlify](https://app.netlify.com/)对其进行编译就好了。

##最后一步

在将文件传到Github后，我们终于可以让其他人看到我们写下的文件了，但是仅仅是一堆文件显然不能吸引人。我们需要利用强大的Netlify将其编译好就可以了。

首先还是注册一个Netlify的账号，然后与Github关联。（其实可以直接选择利用Github账号登陆）
![选择Github注册就可以了](https://i.loli.net/2018/04/02/5ac2215ee1e0a.jpg)

然后选择“New site from Git”就可以按照我们已有的Github账号进行填写了

![选择Github](https://i.loli.net/2018/04/02/5ac2225e93627.jpg)
![按照图示填写即可](https://i.loli.net/2018/04/02/5ac22276bf3fa.jpg)

接着点击“Deploy site”就可以部署完毕了，但是这个时候，我们的网站名字看起来还是像一串乱码一样的字符，我们为了让我们的个人网站看起来更像样还需要进行域名的设置，在“setting”选项中的“Site details”中选择改变网站名字就可以进行域名的再设置。
而如果你想换一个更炫酷的你自己的域名，可以参照统计之都的[这篇文章](https://cosx.org/2018/01/build-blog-with-blogdown-hugo-netlify-github/)进行设置。


至此一个好看的网站就搭建完毕了，而至于其是否有趣则全看作者你了。

#结语

这是一个信息爆炸的时代，所有人都可以通过手机等设备快速的获取各式各样的信息，但是在这密集的信息下对我们有用的有效信息又有多少呢？这恐怕是一个未知数。写博客这看起来仿佛是上一个时代的行为或许可以给我们新的思考，慢下来的思考与写作会让我们真正意识到自己所面对的这个世界以及逐渐成长的自己。所以少年，还在犹豫什么，搭建一个博客都已经这么简单了，还不撸起袖子搭建一个属于自己的网站。
